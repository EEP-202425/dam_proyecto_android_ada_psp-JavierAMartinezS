-- 1) Inserta cada parada en una sentencia separada
INSERT INTO parada (id, nombre, esOrigen, esDestino, esIntermedio)
VALUES (1, 'MADRID',    true,  false, false);

INSERT INTO parada (id, nombre, esOrigen, esDestino, esIntermedio)
VALUES (2, 'BARCELONA', false, false, true);

INSERT INTO parada (id, nombre, esOrigen, esDestino, esIntermedio)
VALUES (3, 'MARSELLA',  false, true,  false);

-- 2) Inserta la ruta (observa uso de lower_snake_case para las columnas)
INSERT INTO ruta (id, origenId, destinoId, transbordo)
VALUES (1, 1, 3, false);

-- 3) Inserta cada fila de la tabla intermedia también por separado
INSERT INTO ruta_paradas (ruta_id, parada_id, trayecto)
VALUES (1, 1, 0);

INSERT INTO ruta_paradas (ruta_id, parada_id, trayecto)
VALUES (1, 2, 1);

INSERT INTO ruta_paradas (ruta_id, parada_id, trayecto)
VALUES (1, 3, 2);


-- data.sql

-- Paso 1: Insertar Paradas
-- Estas paradas se usarán como origen, destino y parte del recorrido de la ruta.
-- Los nombres de las columnas `es_origen`, `es_destino`, `es_intermedio`
-- se asumen por la convención de mapeo de Hibernate a snake_case.
INSERT INTO parada (id, nombre, es_origen, es_destino, es_intermedio) VALUES
(101, 'MADRID', TRUE, FALSE, FALSE),  -- Será el origen de la Ruta 1
(102, 'BARCELONA', FALSE, FALSE, TRUE),   -- Será el destino de la Ruta 1
(103, 'MARSELLA', FALSE, FALSE, TRUE),   -- Será una parada intermedia de la Ruta 1
(104, 'LYON', FALSE, TRUE, FALSE);   -- Otra parada intermedia

-- Paso 2: Insertar una Línea (si no existe ya)
-- Asumo que la tabla de Linea se llama 'linea' y tiene al menos un 'id' y un 'nombre'.
INSERT INTO linea (id, nombre) VALUES
(201, 'LINEA_AZUL');

-- Paso 3: Insertar la Ruta con ID = 1
-- Las columnas de clave foránea son 'origenId' y 'destinoId' como se definen en @JoinColumn.
-- 'transbordo' es el nombre del atributo booleano.
INSERT INTO ruta (id, origen_id, destino_id, transbordo) VALUES
(1, 101, 102, FALSE); -- Ruta 1: Origen: Estacion_A (id=101), Destino: Estacion_B (id=102), Sin transbordo

-- Paso 4: Insertar el recorrido de la Ruta 1 en la tabla de unión 'ruta_paradas'.
-- Los nombres de las columnas son 'ruta_id', 'parada_id' y 'trayecto' (definido por @OrderColumn).
-- El campo 'trayecto' indica el orden de las paradas en el recorrido (0 es la primera).
INSERT INTO ruta_paradas (ruta_id, parada_id, trayecto) VALUES
(1, 101, 0), -- Ruta 1, Parada Origen: Estacion_A (id=101), en la posición 0
(1, 103, 1), -- Ruta 1, Parada Intermedia: Estacion_C (id=103), en la posición 1
(1, 104, 2), -- Ruta 1, Parada Intermedia: Estacion_D (id=104), en la posición 2
(1, 102, 3); -- Ruta 1, Parada Destino: Estacion_B (id=102), en la posición 3

-- Paso 5: Insertar las Líneas usadas en la Ruta 1 en la tabla de unión 'LineasEnRuta'.
-- Los nombres de las columnas son 'rutaIdEnLinea' y 'lineaIdEnRuta' como se definen en @JoinTable.
INSERT INTO LineasEnRuta (ruta_id_en_linea, linea_id_en_ruta) VALUES
(1, 201); -- La Ruta 1 utiliza la Línea_AZUL (id=201)