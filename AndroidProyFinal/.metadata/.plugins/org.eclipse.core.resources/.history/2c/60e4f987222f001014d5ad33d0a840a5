-- data.sql

-- **********************************************************
-- INSERTAR DATOS DE EJEMPLO (CON GESTIÓN DE DUPLICADOS PARA MYSQL)
-- **********************************************************

-- Nota importante:
-- Para MySQL, usamos 'INSERT IGNORE INTO'. Esta sentencia intentará insertar
-- las filas. Si un registro con el mismo ID (clave primaria) ya existe,
-- MySQL ignorará esa inserción sin lanzar un error. Esto es útil
-- para data.sql en desarrollo con bases de datos persistentes.

-- ----------------------------------------------------------
-- Insertar datos para la tabla 'parada'
-- ----------------------------------------------------------
INSERT IGNORE INTO parada (id, nombre, es_origen, es_destino, es_intermedio) VALUES
(101, 'MADRID', TRUE, FALSE, FALSE),
(102, 'BARCELONA', FALSE, FALSE, TRUE),
(103, 'MARSELLA', FALSE, FALSE, TRUE),
(104, 'LYON', FALSE, TRUE, FALSE);


-- ----------------------------------------------------------
-- Insertar datos para la tabla 'ruta'
-- ----------------------------------------------------------
INSERT IGNORE INTO ruta (id, nombre, duracion_minutos, precio) VALUES
(1, 'Ruta Madrid-Lyon', 600, 120.00);


-- ----------------------------------------------------------
-- Insertar datos para la tabla 'billete'
-- IMPORTANTE: NO se incluye la columna 'id' porque es GENERATED (IDENTITY)
-- La inserción de billetes no necesita 'INSERT IGNORE' si no hay
-- otras columnas con restricciones UNIQUE además del ID autogenerado.
-- Si tuvieras una columna 'codigo' UNIQUE, usarías 'INSERT IGNORE INTO billete (codigo, ...)'
-- ----------------------------------------------------------
INSERT INTO billete (precio, propietario, origen_id, destino_id, ruta) VALUES
(120, 'Javier Martinez', 101, 104, 1);

-- Si deseas que este billete (o futuros billetes con IDs autogenerados)
-- se inserten solo una vez de forma segura, o si tienes otras columnas UNIQUE (ej. 'codigo'),
-- tendrías que implementar una lógica más compleja (ej. verificar existencia antes de insertar)
-- o usar herramientas de migración de base de datos. Para un data.sql simple, esta es la forma.
-- Si ejecutas esto múltiples veces, se crearán múltiples billetes con diferentes IDs
-- pero los mismos datos (precio, propietario, etc.).


-- ----------------------------------------------------------
-- Opcional: Insertar datos para la tabla intermedia 'ruta_paradas'
-- ----------------------------------------------------------
INSERT IGNORE INTO ruta_paradas (ruta_id, parada_id) VALUES
(1, 101), -- Ruta 1 pasa por Madrid
(1, 102), -- Ruta 1 pasa por Barcelona
(1, 103), -- Ruta 1 pasa por Marsella
(1, 104); -- Ruta 1 pasa por Lyon