-- data.sql

-- **********************************************************
-- INSERTAR DATOS DE EJEMPLO (ACTUALIZADO CON Billete.java)
-- **********************************************************

-- Notas importantes:
-- 1. Si este archivo se ejecuta repetidamente y los IDs ya existen en tu base de datos,
--    recibirás un error de "Duplicate entry" o "Unique constraint violation".
--    Para solucionarlo en desarrollo:
--    - Configura 'spring.jpa.hibernate.ddl-auto=create-drop' en application.properties
--      (¡Esto borrará y recreará la base de datos en cada inicio, perdiendo datos!).
--    - O limpia manualmente las tablas (`TRUNCATE TABLE nombre_tabla;`) antes de reiniciar.
--    - O utiliza sentencias de inserción condicionales si tu base de datos lo soporta (ej. INSERT IGNORE para MySQL, ON CONFLICT para PostgreSQL).

-- ----------------------------------------------------------
-- Insertar datos para la tabla 'parada'
-- (Necesario para las claves foráneas 'origen_id' y 'destino_id' en 'billete')
-- ----------------------------------------------------------
INSERT INTO parada (id, nombre, es_origen, es_destino, es_intermedio) VALUES
(101, 'MADRID', TRUE, FALSE, FALSE),
(102, 'BARCELONA', FALSE, FALSE, TRUE),
(103, 'MARSELLA', FALSE, FALSE, TRUE),
(104, 'LYON', FALSE, TRUE, FALSE);


-- ----------------------------------------------------------
-- Insertar datos para la tabla 'ruta'
-- (Necesario para la clave foránea 'ruta' en 'billete')
-- ----------------------------------------------------------
INSERT INTO ruta (id, nombre, duracion_minutos, precio) VALUES
(1, 'Ruta Madrid-Lyon', 600, 120.00);


-- ----------------------------------------------------------
-- Insertar datos para la tabla 'billete'
-- IMPORTANTE: NO se incluye la columna 'id' porque es GENERATED (IDENTITY)
-- ----------------------------------------------------------
INSERT INTO billete (precio, propietario, origen_id, destino_id, ruta) VALUES
(120, 'Javier Martinez', 101, 104, 1);
-- Explicación de los valores:
-- precio: 120 (valor entero para el precio)
-- propietario: 'Javier Martinez' (cadena de texto para el propietario)
-- origen_id: 101 (referencia a la Parada con ID 101, 'MADRID')
-- destino_id: 104 (referencia a la Parada con ID 104, 'LYON')
-- ruta: 1 (referencia a la Ruta con ID 1, 'Ruta Madrid-Lyon')

-- Puedes insertar más billetes si lo deseas:
-- INSERT INTO billete (precio, propietario, origen_id, destino_id, ruta) VALUES
-- (80, 'Maria Rodriguez', 102, 103, 1); -- Otro billete para la misma ruta, de Barcelona a Marsella


-- ----------------------------------------------------------
-- Opcional: Insertar datos para la tabla intermedia 'ruta_paradas'
-- Si tu modelo Ruta tiene una relación ManyToMany con Parada,
-- necesitarás esta tabla de unión.
-- ----------------------------------------------------------
-- INSERT INTO ruta_paradas (ruta_id, parada_id) VALUES
-- (1, 101), -- Ruta 1 pasa por Madrid
-- (1, 102), -- Ruta 1 pasa por Barcelona
-- (1, 103), -- Ruta 1 pasa por Marsella
-- (1, 104); -- Ruta 1 pasa por Lyon