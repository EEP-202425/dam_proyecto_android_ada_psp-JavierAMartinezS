-- data.sql

-- **********************************************************
-- INSERTAR DATOS DE EJEMPLO (PARA UNA BASE DE DATOS LIMPIA)
-- **********************************************************

-- Nota:
-- Se sigue utilizando 'INSERT IGNORE INTO' (para MySQL) como una buena práctica de desarrollo.
-- Si vuelves a ejecutar la aplicación sin limpiar la base de datos previamente,
-- estas sentencias ignorarán los intentos de insertar filas con IDs duplicados
-- (para 'parada', 'ruta' y 'ruta_paradas') sin causar errores.
-- Para 'billete', el ID se autogenera, por lo que no hay conflicto de ID.

-- ----------------------------------------------------------
-- 1. Insertar datos para la tabla 'parada'
--    (Necesario para las claves foráneas 'origen_id' y 'destino_id' en 'billete')
-- ----------------------------------------------------------
INSERT IGNORE INTO parada (id, nombre, es_origen, es_destino, es_intermedio) VALUES
(101, 'MADRID', TRUE, FALSE, FALSE),
(102, 'BARCELONA', FALSE, FALSE, TRUE),
(103, 'MARSELLA', FALSE, FALSE, TRUE),
(104, 'LYON', FALSE, TRUE, FALSE);


-- ----------------------------------------------------------
-- 2. Insertar datos para la tabla 'ruta'
--    (Necesario para la clave foránea 'ruta' en 'billete')
-- ----------------------------------------------------------
INSERT IGNORE INTO ruta (id, nombre, duracion_minutos, precio) VALUES
(1, 'Ruta Madrid-Lyon', 600, 120.00);


-- ----------------------------------------------------------
-- 3. Insertar datos para la tabla 'billete'
--    IMPORTANTE: NO se incluye la columna 'id' porque es GENERATED (IDENTITY)
--    Se vincula a la ruta con ID 1, y a las paradas 101 (origen) y 104 (destino).
-- ----------------------------------------------------------
INSERT INTO billete (precio, propietario, origen_id, destino_id, ruta) VALUES
(120, 'Javier Martinez', 101, 104, 1);
-- El billete insertado tendrá un ID autogenerado (probablemente 1, si no hay otros billetes).
-- Este billete es de MADRID (id=101) a LYON (id=104) y pertenece a la 'Ruta Madrid-Lyon' (id=1).


-- ----------------------------------------------------------
-- 4. Opcional: Insertar datos para la tabla intermedia 'ruta_paradas'
--    Si tu modelo 'Ruta' tiene una relación ManyToMany con 'Parada',
--    necesitarás esta tabla de unión para definir qué paradas pertenecen a qué rutas.
-- ----------------------------------------------------------
INSERT IGNORE INTO ruta_paradas (ruta_id, parada_id) VALUES
(1, 101), -- La Ruta 1 incluye la Parada Madrid
(1, 102), -- La Ruta 1 incluye la Parada Barcelona
(1, 103), -- La Ruta 1 incluye la Parada Marsella
(1, 104); -- La Ruta 1 incluye la Parada Lyon