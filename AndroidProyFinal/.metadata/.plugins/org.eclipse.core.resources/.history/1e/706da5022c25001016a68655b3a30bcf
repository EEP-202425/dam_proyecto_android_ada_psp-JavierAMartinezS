package adapspand.proyfinal.recorrido;

import java.util.ArrayList;
import java.util.List;

import adapspand.proyfinal.parada.Parada;
import adapspand.proyfinal.ruta.Ruta;
import jakarta.persistence.*;

@Entity
@Table(name = "recorrido")
public class Recorrido {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @ManyToMany
    @JoinTable(
        name = "recorrido_paradas",
        joinColumns = @JoinColumn(name = "recorrido_id"),
        inverseJoinColumns = @JoinColumn(name = "parada_id")
    )
    @OrderColumn(name = "trayecto")
    private List<Parada> paradas = new ArrayList<>();

    @OneToMany(mappedBy = "recorrido")
    private List<Ruta> rutas = new ArrayList<>();

    // Constructor vac√≠o
    public Recorrido() {}

    public Recorrido(Long id, List<Parada> paradas) {
        this.id = id;
        this.paradas = paradas;
    }

    // Getters y setters
}
